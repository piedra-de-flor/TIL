# 실제 대중교통 환승 시스템 기술 분석

대한민국의 교통카드 시스템은 주식회사 티머니(구 한국스마트카드)가 2004년부터 운영하고 있으며, RFID 기술을 기반으로 함

---

## 통신 기술

### 1. RFID/NFC 기술 기반
환승 시스템의 핵심은 NFC(Near Field Communication) 기술로, 13.56MHz 주파수 대역을 사용하며 10cm 거리에서 데이터를 주고받음

**실제 통신 과정:**
1. 카드 태그: 13.56MHz RFID 통신 (10ms)
2. 카드 ID 읽기: 16자리 고유번호 추출
3. 암호화 인증: 공동암호키 기반 해시값 체크
4. 환승 판단: 로컬 데이터베이스 조회


### 2. 보안 및 인증
교통카드의 승인 보안은 IC카드의 unique값과 공동암호키를 기준으로 하며, 암호키는 교통카드 생산 시 삽입



## 어떻게 그렇게 빠르지??
- 교통카드 자체에는 최근 승차 기록이 저장되지 않음
- 단말기에 승차 기록 저장

환승 판단 과정:

1. 카드를 찍으면 카드ID를 읽음
2. 단말기가 자신의 메모리에서 해당 카드ID의 최근 승차 기록을 찾음
3. 30분 이내, 다른 위치, 다른 교통수단이면 환승 처리

---

실제 시나리오:

1. 홍대입구역에서 지하철 승차 → 홍대입구역 단말기에 기록 저장
2. 이 정보가 네트워크를 통해 모든 단말기로 전송됨
3. 30분 후 신촌역 버스 단말기에 카드를 찍음
4. 신촌역 버스 단말기가 자신의 메모리에서 "아, 이 카드가 30분 전에 홍대입구역에서 탔구나" 확인
5. 환승 판단 → "환승입니다"
---

### 단말기 사이의 실시간 정보 공유
교통카드 단말기는 외부 인터넷 연결 없이(실시간 승인과정 없이) 카드 잔액만 보고 결제하며, 사후 정산하는 과정을 거침 \
그리고 버스는 보통 차고지에서 인터넷 연결해서 그날치 거래내역을 교통카드사로 보낸다




